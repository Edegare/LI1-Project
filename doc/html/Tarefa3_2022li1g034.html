<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa3_2022li1g034</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Edgar Ferreira &lt;a99890@alunos.uminho.pt&gt;<br />Oleksii Tantsura &lt;a102131@alunos.uminho.pt&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Tarefa3_2022li1g034</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 3 do projeto de LI1 em 2022/23.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:animaJogo">animaJogo</a> :: <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a> -&gt; <a href="LI12223.html#t:Jogada" title="LI12223">Jogada</a> -&gt; <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a></li><li class="src short"><a href="#v:movObs">movObs</a> :: [(<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])] -&gt; (Int, Int) -&gt; Int -&gt; Int -&gt; [(<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])]</li><li class="src short"><a href="#v:paradoTronco">paradoTronco</a> :: <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a> -&gt; Int -&gt; <a href="LI12223.html#t:Jogador" title="LI12223">Jogador</a></li><li class="src short"><a href="#v:posArvore">posArvore</a> :: [(<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])] -&gt; (Int, Int) -&gt; Int -&gt; Bool</li><li class="src short"><a href="#v:atropelado">atropelado</a> :: (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>]) -&gt; Int -&gt; Bool</li><li class="src short"><a href="#v:animaJogador">animaJogador</a> :: <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a> -&gt; <a href="LI12223.html#t:Jogada" title="LI12223">Jogada</a> -&gt; <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:animaJogo" class="def">animaJogo</a> :: <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a> -&gt; <a href="LI12223.html#t:Jogada" title="LI12223">Jogada</a> -&gt; <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a> <a href="#v:animaJogo" class="selflink">#</a></p><div class="doc"><h2>Fun&#231;&#227;o Principal</h2><p><code><a href="Tarefa3_2022li1g034.html#v:animaJogo" title="Tarefa3_2022li1g034">animaJogo</a></code> &#233; a fun&#231;&#227;o principal pedida nesta Tarefa e pretende animar o Jogo, ou seja, o Jogador e o Mapa, consoante a respetiva <strong>Jogada</strong> e lista de <strong>Obstaculo</strong> apresentados no mapa. </p><p>Constitu&#237;da por fun&#231;&#245;es auxiliares, a fun&#231;&#227;o principal &#233; definida por:</p><pre>animaJogo :: Jogo -&gt; Jogada -&gt; Jogo 
animaJogo (Jogo (Jogador (x,y)) (Mapa l (h:t))) Parado = Jogo jogador1 (Mapa l (movObs (h:t) (x,y) 0 0))
                                                        where jogador1 = (paradoTronco (Jogo (Jogador (x,y)) (Mapa l (h:t))) 0)

animaJogo (Jogo (Jogador (x,y)) (Mapa l (h:t))) (Move Direita) | l &lt;= (x+1) = Jogo jogador1 (Mapa l (movObs (h:t) (x,y) 0 0))
                                                               | posArvore (h:t) (x+1,y) 0 = Jogo (Jogador (x,y)) (Mapa l (movObs (h:t) (x,y) 0 0))  
                                                               | otherwise = Jogo jogador2 (Mapa l (movObs (h:t) (x+1,y) 0 0))
                                                                 where jogador1 = (paradoTronco (Jogo (Jogador (x,y)) (Mapa l (h:t))) 0)  
                                                                       jogador2 = (paradoTronco (Jogo (Jogador (x+1,y)) (Mapa l (h:t))) 0)

animaJogo (Jogo (Jogador (x,y)) (Mapa l (h:t))) (Move Esquerda) | x&lt;=0 = Jogo jogador1 (Mapa l (movObs (h:t) (x,y) 0 0))
                                                                | posArvore (h:t) (x-1,y) 0 = Jogo (Jogador (x,y)) (Mapa l (movObs (h:t) (x-1,y) 0 0)) 
                                                                | otherwise = Jogo jogador2 (Mapa l (movObs (h:t) (x-1,y) 0 0))
                                                                  where jogador1 = (paradoTronco (Jogo (Jogador (x,y)) (Mapa l (h:t))) 0)
                                                                        jogador2 = (paradoTronco (Jogo (Jogador (x-1,y)) (Mapa l (h:t))) 0)

animaJogo (Jogo (Jogador (x,y)) (Mapa l (h:t))) (Move Baixo) | y&gt;=(length (h:t))-1= Jogo (Jogador (x,y)) (Mapa l (movObs (h:t) (x,y) 0 0))
                                                             | posArvore (h:t) (x,y+1) 0 = Jogo jogador1 (Mapa l (movObs (h:t) (x,y) 0 0)) 
                                                             | otherwise = Jogo (Jogador (x,y+1)) (Mapa l (movObs (h:t) (x,y) 0 0))
                                                              where jogador1 = (paradoTronco (Jogo (Jogador (x,y)) (Mapa l (h:t))) 0)

animaJogo (Jogo (Jogador (x,y)) (Mapa l (h:t))) (Move Cima) | y&lt;=0 = Jogo (Jogador (x,y)) (Mapa l (movObs(h:t) (x,y) 0 0))
                                                            | posArvore (h:t) (x,y-1) 0 = Jogo jogador1 (Mapa l (movObs (h:t) (x,y) 0 0)) 
                                                            | otherwise = Jogo (Jogador (x,y-1)) (Mapa l (movObs (h:t) (x,y) 0 0))
                                                             where jogador1 = (paradoTronco (Jogo (Jogador (x,y)) (Mapa l (h:t))) 0)
                                                              
animaJogo (Jogo (Jogador (x,y)) (Mapa l [])) _ = Jogo (Jogador (x,y)) (Mapa l [])
</pre></div></div><div class="top"><p class="src"><a id="v:movObs" class="def">movObs</a> :: [(<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])] -&gt; (Int, Int) -&gt; Int -&gt; Int -&gt; [(<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])] <a href="#v:movObs" class="selflink">#</a></p><div class="doc"><h2>Fun&#231;&#227;o Auxiliar </h2><p><code><a href="Tarefa3_2022li1g034.html#v:movObs" title="Tarefa3_2022li1g034">movObs</a></code> &#233; uma fun&#231;&#227;o auxiliar que gere o movimento dos <strong>Obst&#225;culos</strong> consoante a velocidade do terreno, seja ela positiva ou negativa, ou inexistente no caso da Relva.</p></div></div><div class="top"><p class="src"><a id="v:paradoTronco" class="def">paradoTronco</a> :: <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a> -&gt; Int -&gt; <a href="LI12223.html#t:Jogador" title="LI12223">Jogador</a> <a href="#v:paradoTronco" class="selflink">#</a></p><div class="doc"><h2>Fun&#231;&#227;o Auxiliar </h2><p><code><a href="Tarefa3_2022li1g034.html#v:paradoTronco" title="Tarefa3_2022li1g034">paradoTronco</a></code> &#233; uma fun&#231;&#227;o auxiliar que permite o movimento do jogador enquanto este se encontra <strong>Parado</strong> na mesma localiza&#231;&#227;o de um tronco, ou seja, segue o movimento do tronco, dependendo da <strong>velocidade</strong> do terreno e <strong>posi&#231;&#227;o</strong> do jogador. Tamb&#233;m foi utilizado para movimentos laterais, para a soma de vetores da velocidade e jogada, e para movimentos verticais, caso se encontre num rio e queira se movimentar para a mesma posi&#231;&#227;o de uma &#225;rvore.</p></div></div><div class="top"><p class="src"><a id="v:posArvore" class="def">posArvore</a> :: [(<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])] -&gt; (Int, Int) -&gt; Int -&gt; Bool <a href="#v:posArvore" class="selflink">#</a></p><div class="doc"><h2>Fun&#231;&#227;o Auxiliar</h2><p><code><a href="Tarefa3_2022li1g034.html#v:posArvore" title="Tarefa3_2022li1g034">posArvore</a></code> &#233; uma fun&#231;&#227;o auxiliar que verifica se a posi&#231;&#227;o que o jogador se encontra &#233; igual &#224; posi&#231;&#227;o duma <strong>Arvore</strong>. </p></div></div><div class="top"><p class="src"><a id="v:atropelado" class="def">atropelado</a> :: (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>]) -&gt; Int -&gt; Bool <a href="#v:atropelado" class="selflink">#</a></p><div class="doc"><h2>Fun&#231;&#227;o Auxiliar</h2><p><code><a href="Tarefa3_2022li1g034.html#v:atropelado" title="Tarefa3_2022li1g034">atropelado</a></code> &#233; uma fun&#231;&#227;o auxiliar que verifica se a posi&#231;&#227;o pedida apresenta um <strong>Carro</strong>. </p></div></div><div class="top"><p class="src"><a id="v:animaJogador" class="def">animaJogador</a> :: <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a> -&gt; <a href="LI12223.html#t:Jogada" title="LI12223">Jogada</a> -&gt; <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a> <a href="#v:animaJogador" class="selflink">#</a></p><div class="doc"><h2>Fun&#231;&#227;o Principal</h2><p><code><a href="Tarefa3_2022li1g034.html#v:animaJogador" title="Tarefa3_2022li1g034">animaJogador</a></code> &#233; uma fun&#231;&#227;o derivada da <code><a href="Tarefa3_2022li1g034.html#v:animaJogo" title="Tarefa3_2022li1g034">animaJogo</a></code>,em que anima apenas os movimentos do <strong>Jogador</strong>. </p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>